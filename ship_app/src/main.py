import time
import requests


MOCKUP_DATA = {
        "identifier": "9074729",
        "coordinates": [[4.92234,51.82855],[4.90225,51.82391],[4.88449,51.81649],[4.86969,51.80768],[4.85317,51.80055],[4.83387,51.79798],[4.81472,51.8003],[4.79525,51.8003],[4.77704,51.79537],[4.76122,51.78785],[4.75014,51.77766],[4.74405,51.76607],[4.73556,51.75498],[4.72346,51.74524],[4.70816,51.73735],[4.69218,51.73008],[4.67487,51.72435],[4.65604,51.72126],[4.63718,51.71806],[4.61877,51.7148],[4.60157,51.71073],[4.58422,51.7071],[4.56677,51.70362],[4.54938,51.70006],[4.53168,51.69703],[4.5137,51.69508],[4.4953,51.69467],[4.47684,51.69575],[4.45868,51.69794],[4.44044,51.69979],[4.42635,51.69917],[4.41711,51.69545],[4.41066,51.69212],[4.40829,51.69086],[4.4039,51.68852],[4.39217,51.68166],[4.38158,51.67255],[4.36759,51.66595],[4.35061,51.66149],[4.33257,51.65953],[4.31459,51.65699],[4.2971,51.65309],[4.27994,51.64843],[4.26331,51.64301],[4.24729,51.63701],[4.23054,51.63199],[4.21372,51.62743],[4.20041,51.62027],[4.19231,51.61035],[4.19053,51.59944],[4.19586,51.589],[4.20625,51.5801],[4.21765,51.57157],[4.22859,51.56267],[4.23514,51.55231],[4.23447,51.54121],[4.22868,51.53048],[4.223,51.51971],[4.21887,51.50873],[4.22031,51.4976],[4.22258,51.48628],[4.22482,51.47565],[4.22665,51.46775],[4.22804,51.45972],[4.23032,51.45177],[4.23106,51.44839],[4.23167,51.44498],[4.23267,51.4363],[4.23451,51.42631],[4.23656,51.41563],[4.23891,51.40511],[4.24179,51.39467],[4.24857,51.38508],[4.2605,51.37805],[4.27559,51.37425],[4.29194,51.37291],[4.30015,51.36623],[4.30041,51.35635],[4.30081,51.34581],[4.3023,51.33494],[4.30973,51.32623],[4.32391,51.32573],[4.33851,51.32685],[4.34292,51.32806]]
}

    

def main():
    while True:

        for lon, lat in MOCKUP_DATA['coordinates']:
            requests.post(f"http://api:5000/dashboard/broadcast/ship/{MOCKUP_DATA['identifier']}", json={"lat": lat, "lon": lon})
            time.sleep(.15)
        time.sleep(3)
    
if __name__ == "__main__":
    main()
